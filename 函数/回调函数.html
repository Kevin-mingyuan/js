<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<button type="button" id="btn">button</button>
	</body>
	<script type="text/javascript">
		//主要是处理请求拿取数据 触发条件后才会执行
		let aBtn = document.getElementById('btn');
		
		let huidiao = function(test,callback1){
			return new Promise((resolve,reject)=>{
				//模拟请求的数据
				setTimeout(()=>{
					let obj = {test:1,bb:test};
				});
				//调用回调函数拿取数据
				callback1(obj);
				//成功返回可代替回调函数
				resolve('success'),
				//失败返回
				reject("failed");
			});
		};
		
		aBtn.addEventListener("click",()=>{
			huidiao("kevin",(obj)=>{
				console.log(obj);
			})
			.then(res => {
				console.log(res,'data');
			})
			.catch((error)=>{
				console.error(error,'error');
			})
		})
		
	</script>
</html>
